# 错误码参考手册

## 模块导入错误 (M001-M099)

| 错误码 | 严重度 | 描述 | 恢复建议 |
|--------|--------|------|----------|
| M001   | 错误   | 模块文件不存在 | 检查模块路径配置 |
| M002   | 错误   | 模块导入失败 | 检查Python依赖 |
| M003   | 错误   | 模块格式无效 | 验证模块格式 |
| M004   | 错误   | 必需函数不存在 | 检查模块实现 |
| M005   | 错误   | 函数签名不匹配 | 更新调用代码 |
| M006   | 警告   | 模块已禁用 | 在配置中启用模块 |
| M007   | 错误   | 模块依赖项缺失 | 安装缺少的依赖 |
| M008   | 错误   | 模块版本不匹配 | 更新模块版本 |
| M009   | 错误   | 模块初始化失败 | 检查模块日志 |

## 渲染处理错误 (R001-R099)

| 错误码 | 严重度 | 描述 | 恢复建议 |
|--------|--------|------|----------|
| R001   | 错误   | 渲染失败 | 检查Markdown内容 |
| R002   | 错误   | Markdown解析错误 | 验证Markdown语法 |
| R003   | 错误   | HTML生成错误 | 检查渲染器配置 |
| R004   | 警告   | 触发降级渲染 | 检查系统资源 |
| R005   | 错误   | 渲染超时 | 增加超时设置或优化内容 |
| R006   | 警告   | 不支持缩放功能 | 更新查看器版本 |

## 链接处理错误 (L001-L099)

| 错误码 | 严重度 | 描述 | 恢复建议 |
|--------|--------|------|----------|
| L001   | 警告   | 链接格式无效 | 检查URL格式 |
| L002   | 严重   | 链接安全违规 | 检查安全配置 |
| L003   | 警告   | 链接目标不存在 | 更新链接地址 |
| L004   | 错误   | 链接访问权限不足 | 检查文件权限 |
| L005   | 错误   | 违反安全策略 | 修改安全设置 |
| L006   | 错误   | 未知链接错误 | 查看详细日志 |
| L007   | 错误   | 链接访问被拒绝 | 检查访问权限 |
| L008   | 错误   | 链接超时 | 检查网络连接 |

## 系统错误 (S001-S099)

| 错误码 | 严重度 | 描述 | 恢复建议 |
|--------|--------|------|----------|
| S001   | 错误   | 配置错误 | 检查配置文件 |
| S002   | 错误   | 缓存错误 | 清理缓存 |
| S003   | 错误   | 状态错误 | 重启应用 |
| S004   | 错误   | 快照错误 | 恢复快照 |
| S005   | 严重   | 线程安全错误 | 报告问题 |
| S006   | 严重   | 资源耗尽 | 释放资源 |
| S007   | 错误   | 网络错误 | 检查网络连接 |
| S008   | 错误   | 数据库错误 | 检查数据库 |
| S009   | 错误   | 认证错误 | 重新登录 |
| S010   | 错误   | 授权错误 | 检查权限设置 |

## 配置参考

```json
{
  "error_handling": {
    "strategy": "graceful",  // graceful 或 strict
    "auto_recovery": true,   // 是否自动恢复
    "log_errors": true,      // 是否记录错误日志
    "max_error_history": 1000 // 最大错误历史记录数
  }
}
```

## 故障排除

1. **常见问题**
   - 错误码以M开头：检查模块配置和依赖
   - 错误码以R开头：检查Markdown内容和渲染配置
   - 错误码以L开头：检查链接有效性和权限
   - 错误码以S开头：检查系统状态和配置

2. **日志位置**
   - 错误日志：`logs/error.log`
   - 调试日志：`logs/debug.log`

3. **支持**
   如遇未列出的错误码，请提供完整错误信息和日志文件。
