# 增强版大型提示词分解计划模板 V3.0

## 前言：为什么需要分解大型提示词

当我们面对复杂多维度的任务时，单个提示词可能会超出AI模型的处理能力或输出限制。分解提示词的目的是：

- 确保每个子任务获得充分关注
- 保持信息流的连续性和一致性
- 避免因输入过长导致的截断或遗漏
- 允许在复杂任务中途进行人工干预和方向调整

## 第一部分：分析原始提示词

### 1. 提示词分解决策框架

在进行提示词分解前，先使用以下检查表评估是否需要分解：

```
【提示词分解决策检查表】
□ 提示词总字数超过2000字
□ 任务涉及3个或更多独立领域或专业知识
□ 完成任务需要4个以上分析/创建步骤
□ 任务间存在明显的依赖关系（某任务必须在另一任务后执行）
□ 需要多轮深入交互才能得到满意结果
□ 任务自然分为多个相对独立的部分
□ 中间结果需要人工审核或干预
□ 预计完成整体任务需要超过10轮交互

符合3项或以上，建议考虑分解提示词。
符合2项或以下，可优先考虑单一提示词方案，除非有特殊要求。
```

**实际示例**：

```
【分解决策示例】
原始提示词: "分析2022年全球智能手机市场，比较三大品牌性能，预测2023趋势"

评估:
□ 提示词总字数: ~50字 (不超过2000字) ✗
□ 独立领域: 市场分析、产品比较、趋势预测 (3个) ✓
□ 分析步骤: 市场概况→品牌分析→性能对比→趋势分析 (4个) ✓
□ 任务依赖: 趋势预测依赖前序分析 ✓
□ 需要多轮交互: 预计需要5-8轮 ✓
□ 自然分割: 可分为数据分析和预测两大部分 ✓
□ 需要人工干预: 不必须 ✗
□ 预计交互次数: 7-8次 (未超过10轮) ✗

结果: 符合5项 → 建议分解提示词
```

### 2. 任务分解

- **识别独立任务模块**：将大型提示词划分为相对独立但逻辑相关的子任务
- **确立依赖关系**：明确哪些任务需要前序任务的结果作为输入
- **评估复杂度**：采用5-8-12法则判断每个子任务的复杂度：
  - 非复杂任务(5次交互)：单领域、明确目标、单文档操作
  - 中等复杂任务(7-8次交互)：2-3相关领域、多步骤、需要整合
  - 高度复杂任务(10-12次交互)：多领域、战略决策、系统性整合

**复杂度评分工具**：

```
【复杂度评分卡】
□ 任务领域数量: 1(+0) 2-3(+1) 4+(+2)
□ 预计交互轮次: <5(+0) 5-10(+1) >10(+2)
□ 依赖关系复杂度: 简单(+0) 中等(+1) 复杂(+2)
□ 数据量要求: 低(+0) 中(+1) 高(+2)
□ 需要专业知识程度: 低(+0) 中(+1) 高(+2)
     
总分: 0-3=非复杂, 4-6=中等复杂, 7-10=高度复杂
```

**应用示例**：

```
【复杂度评估实例】
子任务: "分析2022年全球智能手机市场份额及变化"
评估:
- 任务领域: 市场分析 (1个领域, +0)
- 预计交互: 需要4-5轮分析 (+0)
- 依赖关系: 独立任务，无复杂依赖 (+0)
- 数据量: 中等，需要处理多家公司数据 (+1)
- 专业知识: 需要市场分析经验 (+1)
总分: 2分 = 非复杂 → 应用5次交互模型
```

### 3. 任务交互规划

依据每个子任务的复杂度，设计交互结构：

- **非复杂任务(5次交互)**：
  - 1次初始提问
  - 2-3次必要追问
  - 1次总结确认

- **中等复杂任务(7-8次交互)**：
  - 1次初始提问
  - 3-5次深度追问
  - 1-2次整合与确认

- **高度复杂任务(10-12次交互)**：
  - 1次框架设定
  - 6-8次系统追问
  - 2-3次整合与决策确认

### 4. 复杂度动态调整机制

在会话执行过程中，需根据实际情况动态调整复杂度：

#### 上调复杂度触发条件
- 初始回答质量明显低于预期
- 已使用50%预计交互但仅完成30%任务目标
- 发现之前未识别的依赖关系或任务范围
- 需要引入额外专业知识或数据源

#### 下调复杂度触发条件
- 任务提前顺利完成，剩余追问不必要
- 发现任务可进一步简化或合并
- 有现成模板/方法可直接应用
- AI助手表现超出预期，能更高效处理任务

#### 调整实施流程
1. 识别复杂度变化信号
2. 明确说明调整原因和新的预期
3. 重新定义剩余交互次数和结构
4. 调整追问策略和数据传递需求
5. 记录调整原因，作为未来复杂度评估参考

### 5. 数据流设计

- **识别关键数据**：确定哪些数据需要在会话间传递
- **设计数据摘要格式**：决定每个会话应输出什么格式的数据摘要
- **最小化传递内容**：只传递必要的数据以避免冗余和超出限制

### 6. 执行序列规划

- **确定最佳会话数量**：根据任务复杂度决定分解为几个会话
- **设计会话衔接点**：确定每个会话的起点和终点
- **规划人工干预点**：设计可能需要人工审核或调整的环节

**会话连贯性检查点**：
```
【会话衔接检查点】
□ 下一会话所需的全部关键数据已在摘要中包含
□ 每个传递的数据点都有明确的目的和用途
□ 数据摘要格式便于下一会话理解和使用
□ 会话间的指示保持一致（无矛盾要求）
□ 已明确标注可能需要人工干预的决策点
```

### 7. 提示词分解风险管理

分解提示词可能带来的风险及缓解策略：

```
【提示词分解风险管理】
风险1: 上下文碎片化导致连贯性丧失
缓解: 使用核心数据摘要确保关键信息传递，在每个会话开始时回顾目标

风险2: 分解增加总体时间成本
缓解: 对标准/重复任务创建模板库，平衡分解粒度与效率

风险3: 子任务间依赖关系识别不清导致执行顺序错误
缓解: 创建任务依赖图，明确关键路径和前置条件

风险4: 分解后任务边界模糊，导致重复工作
缓解: 明确定义每个子任务的输入、处理和输出边界

风险5: 信息在传递过程中丢失或变形
缓解: 使用结构化数据格式，添加验证机制确保完整传递
```

## 第二部分：构建会话模板

### 会话1：基础分析与数据收集

```
# [任务标题]

## 背景信息
[提供任务整体背景和目标，确保AI理解全局]

## 本次任务
请完成以下分析：
1. [任务1详细说明]
2. [任务2详细说明]
3. [任务3详细说明]

## 输出要求
1. 详细分析每个要点
2. 提供必要的数据支持和推理过程
3. 对不确定信息明确标注数据来源和置信度

## 预设追问计划
以下是可能的追问方向，请准备相应内容：
1. [关于任务1的深度追问]
2. [关于任务2的完整性追问]
3. [关于整体分析的质量提升追问]

## 下一步准备
请在分析完成后，提供一个标题为"【关键数据摘要-用于后续分析】"的部分，包含：
1. [明确列出需要传递到下一会话的关键数据点]
2. [明确数据的格式要求，如表格、列表等]
3. [明确数据的粒度和精确度要求]

这些信息将用于下一步的[具体说明下一步任务]，请确保数据准确和完整。
```

**应用示例片段**：
```
# 全球智能手机市场分析：第一阶段

## 背景信息
需要全面分析2022年全球智能手机市场情况，作为后续品牌对比和趋势预测的基础。

## 本次任务
请完成以下分析：
1. 2022年全球智能手机出货量总体情况及同比变化
2. 主要品牌（三星、苹果、小米等）的市场份额及排名
3. 各区域市场（北美、欧洲、亚太等）的分布特点

## 输出要求
1. 详细分析各个数据点，包括具体数字和百分比
2. 提供数据来源（如IDC、Canalys等研究机构）
3. 对于数据不一致的情况，说明原因并取合理值
...
```

### 会话2到N-1：中间分析会话

```
# [任务标题]

## 会话元数据
- 前序会话ID: [唯一标识符]
- 会话类型: [分析/创建/决策/评估]
- 复杂度级别: [非复杂/中等/高度]

## 前序数据摘要
[复制前一会话的"关键数据摘要"部分]

## 本次任务
基于上述数据，请完成以下分析：
1. [任务1详细说明]
2. [任务2详细说明]
3. [任务3详细说明]

## 分析要求
1. 充分利用前序数据作为基础
2. 重点关注[特定分析维度]
3. 解决以下关键问题：[列出需要解答的问题]

## 预设追问计划
以下是可能的追问方向，请准备相应内容：
1. [关于任务1的深度追问]
2. [关于任务2的跨领域整合追问]
3. [关于数据一致性的质量提升追问]

## 下一步准备
请在分析完成后，提供一个标题为"【[特定名称]关键发现-用于[具体用途]】"的部分，包含：
1. [明确列出需要传递的数据类型]
2. [对特别重要的发现的要求]
3. [数据格式和结构的具体要求]

这些发现将直接用于[下一步具体任务的描述]，请确保信息的相关性和实用性。
```

### 最终会话：综合分析与建议

```
# [任务标题]

## 会话元数据
- 前序会话ID: [唯一标识符]
- 会话类型: [分析/创建/决策/评估]
- 复杂度级别: [非复杂/中等/高度]

## 前序数据摘要
[复制前一会话的"关键发现摘要"部分]

## 本次任务
基于所有前序分析，请提供一份综合报告：
1. 总结所有关键发现
2. 提供具体的[建议/计划/策略]
3. 分析实施可能面临的挑战和对策

## 报告要求
1. 提供简短的执行摘要（300-500字）
2. 使用结构化格式呈现关键建议
3. 按[相关标准]对建议进行优先级排序
4. 包含具体的实施路线图或时间表

## 预设追问计划
以下是可能的追问方向，请准备相应内容：
1. [关于建议可行性的深度追问]
2. [关于实施细节的完整性追问]
3. [关于整体方案的质量提升追问]

## 报告格式
请确保最终报告包含以下部分：
1. 执行摘要
2. 关键发现概述
3. 详细建议/计划
4. 实施路线图
5. 风险评估与缓解策略
```

### 会话失败恢复策略

当会话未达到预期结果时的恢复方案：

```
【会话失败诊断与恢复】

失败类型识别:
□ 方向偏离: AI回答与预期方向不符
□ 质量不足: 回答表面化，缺乏深度
□ 逻辑错误: 回答中存在逻辑矛盾或错误
□ 数据问题: 数据不准确或不完整
□ 范围溢出: 处理内容超出预期范围

恢复策略:
1. 方向偏离：明确重述任务核心目标和边界，提供反例说明
2. 质量不足：提供具体的深化方向和评判标准，引导更深入分析
3. 逻辑错误：指出具体矛盾点，要求重新梳理逻辑链条
4. 数据问题：提供正确数据源或检查方法，要求校验关键数据
5. 范围溢出：重新划定任务边界，细化会话聚焦点

关键步骤:
1. 明确指出当前回答的具体问题
2. 解释期望的输出方向和标准
3. 提供修正指导或示例
4. 询问AI理解并确认修正方向
5. 记录修正经验用于后续会话优化
```

## 第三部分：追问策略与模板库

### 追问策略最佳实践

1. **前置准备提升初始质量**
   - 在初始提问中提供结构化模板
   - 明确说明预期输出的所有必要元素
   - 提供评判标准和示例

2. **批量追问优于零散追问**
   - 一次提出2-3个相关问题
   - 使用编号确保每个问题都得到回答
   - 避免每次只问一个简单问题

3. **渐进式深化而非平行扩展**
   - 先确保基础内容完整
   - 再追问关键部分的深度
   - 最后关注跨领域整合和质量提升

4. **预留追问空间的会话设计**
   - 在会话计划中明确预留追问次数
   - 为不同复杂度主题设置固定的追问配额
   - 使用"最低追问数"确保内容质量

**追问流程示例**：

```
【追问流程示例：市场分析任务】

初始提问:
"分析2022年全球智能手机市场份额分布"
↓
完整性追问(第1轮):
"请补充各主要地区市场的份额分布情况，数据未覆盖欧洲市场"
↓
深度追问(第2轮):
"针对中国市场的异常增长，请分析背后的驱动因素和持续性"
↓
质量提升追问(第3轮):
"对比2021年数据，哪些变化最显著？这表明了什么趋势？"
↓
总结确认(第4轮):
"请整合所有分析，提供一个完整的市场格局概述和关键洞察"
```

### 五类标准追问模板

#### 1. 完整性追问模板

```
请检查你的回答，补充以下方面可能遗漏的内容：
1. [特定领域/章节]是否完整？
2. [关键要素]是否已全面覆盖？
3. 是否存在未充分展开的关键点？
4. 有没有被忽略的重要约束条件或边界情况？
5. 是否还有需要考虑的利益相关者视角？
```

#### 2. 深度追问模板

```
针对[具体部分]，我需要更深入的分析：
1. 背后的原理/逻辑是什么？
2. 可能存在哪些挑战或边界条件？
3. 有没有被忽略的关键考量？
4. 如何验证或证实这些发现？
5. 这些结论对[相关领域]有什么更广泛的影响？
```

#### 3. 质量提升追问模板

```
请从以下维度优化当前内容：
1. 实操性：如何使其更可执行？需要哪些具体步骤？
2. 具体性：哪些部分需要更具体的示例或数据？
3. 完整性：还有哪些必要元素需要添加？
4. 简洁性：如何使表达更简洁清晰？
5. 逻辑性：论证过程中是否存在逻辑漏洞？
```

#### 4. 跨领域整合追问模板

```
请分析[当前内容]如何与以下方面协同：
1. 与[相关领域A]的一致性和影响
2. 与[相关领域B]的整合考量
3. 潜在的冲突或协同增效点
4. 跨领域实施时可能面临的挑战
5. 需要哪些额外资源或支持才能实现整合？
```

#### 5. 通用简洁追问模板

```
请检查并完善：
1. 遗漏了什么关键内容？
2. 哪些部分需要更具体的说明？
3. 还有什么重要考量未提及？
4. 如何提高方案的可行性？
5. 有哪些需要进一步澄清的内容？
```

### 领域特定追问模板示例

#### 数据分析任务追问模板

```
针对数据分析结果，请进一步深入：
1. 数据背后反映的关键趋势是什么？
2. 数据中有哪些异常值或特殊模式需要解释？
3. 这些发现如何与[业务目标/战略方向]相联系？
4. 分析方法存在哪些局限性或潜在偏差？
5. 还有哪些维度的数据可以进一步验证或丰富这些发现？
```

#### 创意生成任务追问模板

```
关于生成的创意方案，请进一步思考：
1. 这些创意如何满足目标受众的核心需求？
2. 哪些创意最具差异化优势？为什么？
3. 实现这些创意的主要挑战是什么？
4. 如何评估这些创意的效果？需要哪些指标？
5. 如何将多个创意整合为一个连贯的解决方案？
```

#### 代码生成任务追问模板

```
针对生成的代码，请深入分析：
1. 代码的性能和效率如何？有哪些优化空间？
2. 代码健壮性如何？针对哪些异常情况做了处理？
3. 代码是否遵循了最佳实践和设计模式？
4. 代码的可维护性和可扩展性如何？
5. 有没有潜在的安全隐患或边界情况未处理？
```

#### 论证评估任务追问模板

```
请对这个论证进行深入评估：
1. 论证的前提假设是否合理？有何潜在问题？
2. 论证过程中的逻辑链条是否完整无缺？
3. 论证中使用的证据是否充分且可靠？
4. 是否考虑了反对观点和潜在反例？
5. 论证的结论是否受限于特定情境？在哪些情况下可能不适用？
```

## 第四部分：数据传递最佳实践

### 1. 核心数据摘要优化模板

```
# 【核心数据摘要-用于下一会话】

## 会话元数据
- 会话ID: [唯一标识符]
- 会话类型: [分析/创建/决策/评估]
- 复杂度级别: [非复杂/中等/高度]
- 当前交互次数: [X/Y] - 已完成X次，计划Y次
- 会话状态: [进行中/已完成/已终止]

## 本会话关键成果 [优先级：高]
1. [核心成果1，25-50字]
2. [核心成果2，25-50字]
3. [核心成果3，如有，25-50字]

## 未完成事项 [优先级：高]
1. [待解决问题1，15-30字]
2. [待解决问题2，15-30字]
3. [待解决问题3，如有，15-30字]

## 关键决策 [优先级：中]
1. [决策1及理由，30-50字]
2. [决策2及理由，如有，30-50字]

## 资源与参考 [优先级：低]
1. [资源ID1]：[资源名称] - [关键内容]
2. [资源ID2]：[资源名称] - [关键内容]
```

**实际数据摘要示例**：

```
# 【核心数据摘要-用于品牌比较分析】

## 会话元数据
- 会话ID: SP-MARKET-2023-05-20-001
- 会话类型: 市场分析
- 复杂度级别: 非复杂
- 当前交互次数: 5/5 - 已完成
- 会话状态: 已完成

## 本会话关键成果 [优先级：高]
1. 2022年全球智能手机出货量为12.1亿台，同比下降11.3%，为近十年最大降幅
2. 市场份额排名：三星(22%)、苹果(19%)、小米(13%)、OPPO(10%)、vivo(9%)
3. 高端市场($600+)苹果占据74%份额，三星占据20%，其余厂商仅占6%

## 未完成事项 [优先级：高]
1. 缺乏各品牌在新兴市场(如印度、东南亚)的详细表现数据
2. 需要更多关于各品牌研发投入与创新能力的对比

## 关键决策 [优先级：中]
1. 确定以IDC和Counterpoint的数据为主要参考，因其采样范围更广且历史数据更完整

## 资源与参考 [优先级：低]
1. IDC-2023-Q1：《2022年全球智能手机市场年度报告》- 出货量和市场份额数据
2. Counterpoint-2023：《智能手机价格段分析报告》- 价格段分布数据
```

### 2. 摘要验证机制

在会话结束前，使用以下验证检查摘要质量：

```
【摘要验证检查表】
□ 会话元数据完整准确
□ 关键成果清晰具体（避免模糊表述）
□ 未完成事项有明确的行动导向
□ 决策记录包含理由说明
□ 总字数控制在500字以内
□ 优先级标记合理
□ 没有重复或冗余信息
□ 无过度技术性或专业术语（除必要外）
```

### 3. 针对不同类型任务的数据传递策略

#### 数据分析类任务

- **关键传递内容**：统计数字、趋势数据、相关系数、关键分布特征
- **建议格式**：数据表格、关键指标清单、TOP-N排名列表
- **示例传递单元**：

```
【市场数据摘要-用于竞争分析】
1. 总市场规模：￥X亿元（年增长率Y%）
2. 细分市场份额：A产品40%、B产品30%、C产品20%、其他10%
3. 用户数量：活跃用户N万，月均使用频率M次
4. 价格区间：主流产品￥P1-P2，高端产品￥P3-P4
```

#### 内容创作类任务

- **关键传递内容**：主题框架、关键论点、风格要求、目标受众
- **建议格式**：内容大纲、关键信息点、参考示例
- **示例传递单元**：

```
【内容框架摘要-用于文章创作】
1. 核心主题：[简明描述]
2. 目标受众：[具体特征]
3. 关键论点：
   - 论点A：[简要说明]
   - 论点B：[简要说明]
   - 论点C：[简要说明]
4. 风格要求：[具体描述]
5. 字数范围：约X-Y字
```

#### 决策支持类任务

- **关键传递内容**：选项比较、利弊分析、风险评估、决策标准
- **建议格式**：决策矩阵、优先级排序列表、风险-收益分析
- **示例传递单元**：

```
【决策因素摘要-用于策略选择】
1. 评估选项：
   - 选项A：[核心特点、优势、劣势]
   - 选项B：[核心特点、优势、劣势]
   - 选项C：[核心特点、优势、劣势]
2. 关键决策标准：[标准1]、[标准2]、[标准3]
3. 主要风险因素：[风险1]、[风险2]、[风险3]
4. 初步推荐方向：基于[具体理由]，初步倾向[具体选项]
```

#### 创意生成类任务

- **关键传递内容**：创意方向、已生成的创意、评估标准、限制条件
- **建议格式**：创意概念清单、评估结果、发展方向
- **示例传递单元**：

```
【创意概念摘要-用于方案开发】
1. 已探索创意方向：
   - 方向A：[核心概念]（评分：X/10）
   - 方向B：[核心概念]（评分：Y/10）
   - 方向C：[核心概念]（评分：Z/10）
2. 最具潜力创意：[详细描述]
3. 关键限制条件：[列出限制]
4. 建议深入发展：[具体方向]
```

#### 技术实现类任务

- **关键传递内容**：技术参数、接口定义、依赖关系、实现约束
- **建议格式**：技术规格表、架构图要点、API定义概要
- **示例传递单元**：

```
【技术规格摘要-用于实现开发】
1. 核心技术组件：
   - 组件A：[功能和规格]
   - 组件B：[功能和规格]
   - 组件C：[功能和规格]
2. 关键接口定义：[列出主要接口及参数]
3. 技术限制条件：[性能要求、兼容性需求等]
4. 实现优先级：[列出优先实现的功能]
```

## 第五部分：常见挑战与解决方案

### 1. 数据量过大

- **挑战**：单次会话无法包含所有必要数据 
- **解决方案**：
  - 对数据进行分类聚合，只传递关键统计和洞察
  - 使用多级数据摘要（概览摘要+详细摘要）
  - 针对特别复杂的分析，考虑增加会话数量细分任务

### 2. 连贯性断裂

- **挑战**：分解会话导致分析连贯性受影响 
- **解决方案**：
  - 在每个会话开始简要回顾整体任务目标
  - 确保数据摘要包含足够的上下文信息
  - 在每个会话结束时预告下一步分析内容
  - 使用统一的术语和框架

**连贯性检查工具**：
```
【会话连贯性检查表】
□ 关键术语定义一致
□ 分析框架和方法论保持一致
□ 所有重要上下文都在数据摘要中传递
□ 数据引用的来源和标准相同
□ 新会话明确参考前序会话的关键结论
□ 确保无冲突的指令或目标
```

### 3. 任务依赖复杂

- **挑战**：任务之间存在复杂的依赖关系 
- **解决方案**：
  - 绘制任务依赖图，识别关键路径
  - 合并高度相关的子任务到同一会话
  - 设计灵活的数据摘要，包含可能需要的多种信息

**任务依赖图示例**：
```
任务A: 市场数据分析
   ↓
任务B: 竞品比较 ← 任务C: 用户需求分析
   ↓                ↓
任务D: 产品策略制定
   ↓
任务E: 营销计划 ← 任务F: 预算规划
```

### 4. 结果不一致

- **挑战**：不同会话的分析结果可能存在不一致 
- **解决方案**：
  - 在数据摘要中明确包含关键假设和方法论
  - 在后续会话中明确引用前序分析结论
  - 在最终会话中专门审核和调和可能的不一致之处

**一致性检查点**：
```
【结果一致性检查】
□ 各会话使用的数据源和假设相同或兼容
□ 各会话之间的定义和标准保持一致
□ 后续会话的结论不与前序结论直接矛盾
□ 数据引用保持一致的精度和表示方式
□ 跨会话的推理和分析逻辑无矛盾
```

### 5. 会话中断与恢复

#### 中断类型分类

1. **轻度中断**：
   - 特征：同一天内的短暂中断，上下文仍新鲜
   - 恢复方式：简单提醒+继续上次讨论
   
2. **中度中断**：
   - 特征：1-7天的中断，部分上下文可能模糊
   - 恢复方式：提供核心数据摘要+关键决策回顾
   
3. **重度中断**：
   - 特征：超过7天的长期中断或人员变动
   - 恢复方式：完整会话重建+详细上下文恢复

#### 恢复话术示例

**轻度中断恢复话术**：
```
让我们继续刚才关于[主题]的讨论。我们上次讨论到[具体点]，现在需要继续解决[下一步问题]。
```

**中度中断恢复话术**：
```
我需要继续之前关于[主题]的会话（会话ID：[ID]）。
距离上次交互已过去[X]天，我们已经完成了[X/Y]次交互。

上次会话要点回顾：
1. [关键点1]
2. [关键点2]
3. [关键点3]

当前需要解决的问题是[具体问题]。请基于以上上下文继续我们的讨论。
```

**重度中断恢复话术**：
```
我需要恢复一个中断已久的会话，原会话ID是[ID]，主题是[主题]。

## 原会话背景
[简要描述原会话的目的和背景，100字]

## 已完成进展
[列出已经达成的关键成果，150字]

## 核心数据摘要
[粘贴完整的核心数据摘要]

## 恢复起点
现在需要从[具体起点]继续，重点解决[具体问题]。请首先确认你对上下文的理解，然后我们继续讨论。
```

#### 长期中断特殊恢复机制

对于超过30天的长期中断或关键人员变动的情况：

1. **会话重建检查表**：
   ```
   【长期中断恢复检查表】
   □ 原会话目标是否仍然有效？
   □ 相关数据是否有更新？
   □ 之前的决策前提是否发生变化？
   □ 是否需要重新评估复杂度？
   □ 是否需要额外的参考资料？
   ```

2. **决策有效性验证**：
   ```
   请验证以下之前的决策是否仍然有效：
   1. [决策1]：基于[原因]做出。当前情况是否变化？
   2. [决策2]：基于[原因]做出。当前情况是否变化？
   ```

## 第六部分：执行计划模板

### 1. 前期准备

- 分析原始提示词，确定最佳分解方案
- 设计每个会话的具体目标和输出要求
- 准备必要的背景信息和初始数据
- 为每个会话设计预设追问计划

### 2. 执行流程

- 顺序执行每个分解会话
- 每次会话结束后，审核关键数据摘要
- 根据需要调整后续会话的提示词内容
- 确保每个会话都能接收到必要的前序数据
- 保持合理的追问频率和深度

### 3. 质量保障与评估

#### 多维度质量评估标准

1. **完整性评估**：
   - 目标达成率：会话目标完成的百分比
   - 需求覆盖率：初始需求被覆盖的百分比
   - 遗漏重要项：未处理的关键问题数量

2. **准确性评估**：
   - 事实准确度：事实性内容的准确程度
   - 逻辑一致性：推理和分析的逻辑一致性
   - 参考准确度：引用的资料准确程度

3. **实用性评估**：
   - 可操作性：输出内容可直接执行的程度
   - 具体明确性：避免模糊和笼统表述的程度
   - 上下文适应性：与整体目标的匹配程度

4. **效率评估**：
   - 交互效率：单次交互获取有效信息的量
   - 时间效率：完成目标所需的总交互次数
   - 追问必要性：追问是否都是必要且高效的

#### 会话质量评估检查表

```
【会话质量评估检查表】
完整性维度:
□ 目标达成率 (1-5分): ___
□ 需求覆盖率 (1-5分): ___
□ 遗漏重要性 (1-5分): ___

准确性维度:
□ 事实准确度 (1-5分): ___
□ 逻辑一致性 (1-5分): ___
□ 参考准确度 (1-5分): ___

实用性维度:
□ 可操作性 (1-5分): ___
□ 具体明确性 (1-5分): ___
□ 上下文适应性 (1-5分): ___

效率维度:
□ 交互效率 (1-5分): ___
□ 时间效率 (1-5分): ___
□ 追问必要性 (1-5分): ___

总体评分: ___/60
```

#### 会话后评估流程

每个会话结束后执行以下评估流程：

```
【会话质量评估流程】
1. 完成检查表评估（1-5分制）
2. 记录特别成功的方面
3. 记录需要改进的方面
4. 提出具体改进建议
5. 更新会话最佳实践库
```

### 4. 提示词优化反馈循环

通过以下流程持续优化提示词分解策略：

#### 会话完成后评估
1. 记录每个分解会话的成功点和失败点
2. 评估实际复杂度与预估复杂度的偏差
3. 分析数据传递的有效性和完整性
4. 评估追问策略的针对性和效率

#### 提示词调整策略
1. 优化任务分解粒度（过细或过粗）
2. 完善数据传递格式和内容
3. 调整复杂度评估标准
4. 更新追问模板和策略

**优化记录模板**：
```
【提示词优化记录】
原始提示词: [记录原始提示词]
分解方案: [记录分解方案]

有效做法:
1. [记录特别有效的分解策略]
2. [记录有效的追问模式]
3. [记录成功的数据传递格式]

需改进方面:
1. [记录复杂度评估偏差]
2. [记录数据传递不足]
3. [记录其他问题]

改进计划:
1. [调整复杂度评估]
2. [优化数据传递模板]
3. [调整会话结构]

学习总结: [记录关键经验和教训]
```

### 5. 成果整合

- 汇总所有会话的关键发现
- 确保最终建议基于完整的分析链条
- 提供清晰的决策支持和行动建议
- 形成完整的分析报告或解决方案
- 执行最终质量评估检验

## 第七部分：AI助手局限性应对策略

### 1. 上下文窗口限制解决方案

- **问题**：AI只能处理有限上下文窗口
- **解决方案**：
  - **分层信息策略**：核心内容完整提供，参考内容按需提供
  - **精简版文档**：创建关键点摘要版本用于会话参考
  - **分段加载技术**：先获取大纲，再深入特定部分

**分层信息传递示例**：
```
【分层信息传递】
第1层(必传): 核心数据和关键发现(~200字)
第2层(视情况): 重要上下文和方法论(~200字)
第3层(按需): 详细案例和佐证数据(参考ID即可)

例如:
## 必传核心信息
1. 市场份额数据: 品牌A(40%), B(30%), C(20%)
2. 关键发现: 高端市场集中度上升

## 重要上下文(如需后续深入分析)
1. 分析方法: 基于X/Y/Z三家研究机构数据交叉验证
2. 时间范围: 2021-2022财年数据

## 详细数据(按需引用)
参考数据集ID: MKT-2023-001, MKT-2023-002
```

### 2. 误解与偏差处理

- **问题**：AI偶尔会误解复杂指令或产生偏差
- **解决方案**：
  - **结构化指令**：使用编号、分层和明确标记
  - **理解确认步骤**：要求AI首先复述理解
  - **错误模式库**：记录常见误解及修正方法

**理解确认步骤示例**：
```
【理解确认步骤】
1. 发出指令: "请分析数据集中的异常值，重点关注季节性波动"
2. 要求确认: "请先复述你对任务的理解，确保我们在同一页上"
3. AI回应: "我理解需要分析数据中的异常值，特别关注可能由季节性因素引起的波动模式"
4. 纠正或确认: "是的，准确理解。另外请特别注意Q4的数据"
```

### 3. 知识更新限制

- **问题**：AI无法访问最新信息或内部更新
- **解决方案**：
  - **知识补充库**：提供关键更新信息
  - **定期知识校准**：实施定期"知识校准"会话
  - **状态更新简报**：在重要会话前提供更新信息

**知识补充模板**：
```
【知识补充】
领域: [市场分析/技术发展/政策法规]
截止日期: [AI知识截止日期]
更新时间: [当前更新的时间点]

关键更新:
1. [重要事件或数据]: [简明描述新信息]
2. [重要事件或数据]: [简明描述新信息]

影响分析:
1. [这些更新如何影响之前的结论或假设]
2. [是否需要调整分析框架或标准]
```

### 4. 信息合成限制

- **问题**：AI在大量文档间综合信息能力有限
- **解决方案**：
  - **逐步综合法**：将大问题分解为子问题
  - **对比矩阵**：辅助多文档分析
  - **综合指导模板**：创建专门的综合指导模板

**对比矩阵示例**：
```
【多源信息对比矩阵】
        | 数据源A | 数据源B | 数据源C | 综合判断
指标1    |   值A1  |   值B1  |   值C1  | [综合结论]
指标2    |   值A2  |   值B2  |   值C2  | [综合结论]
指标3    |   值A3  |   值B3  |   值C3  | [综合结论]
可信度   |   高    |   中    |   高    | 
```

### 5. 异常情况处理流程

当AI出现明显错误、混淆或误解时的处理流程：

```
【AI异常响应处理流程】
1. 识别异常类型：
   □ 事实错误 □ 理解偏差 □ 上下文遗忘 □ 逻辑不一致 □ 指令混淆
   
2. 实施对应修正策略：
   - 事实错误：提供正确信息+来源
   - 理解偏差：重述需求+提供示例
   - 上下文遗忘：提供核心数据摘要
   - 逻辑不一致：指出矛盾点+请求澄清
   - 指令混淆：简化并分步骤重述指令
   
3. 验证修正效果：
   请AI复述理解并确认修正已生效
   
4. 记录并优化：
   将错误模式和有效修正添加到异常处理库
```

**异常处理示例**：
```
【异常处理实例】
异常类型: 上下文遗忘
症状: AI忘记了之前会话中确定的市场细分方法，使用了不一致的分类

修正措施:
"我注意到你现在使用的市场细分方法与我们之前确定的不同。在前一个会话中，我们决定按价格段(入门/中端/高端)而非区域来细分市场。请基于以下数据重新分析:

【核心数据摘要-摘自前一会话】
1. 价格段定义: 入门(<$300), 中端($300-$600), 高端(>$600)
2. 各品牌在三个价格段的份额分布如下..."

验证: "请确认你现在理解了我们使用的是按价格段的细分方法，并简要说明三个价格段的定义"
```

## 附录：核心概念对比

| V2.0概念 | V3.0对应概念 | 主要变化 |
|---------|-------------|---------|
| 3-5-7法则 | 5-8-12法则 | 调整为更符合AI对话特性的"追问内置型"复杂度模型 |
| 数据传递策略 | 核心数据摘要优化模板 | 增加会话元数据、优先级标记和验证机制 |
| 质量保障 | 多维度质量评估标准 | 扩展为四大维度、具体指标和评分系统 |
| 常见挑战 | 常见挑战与中断恢复 | 增加会话中断分类和恢复话术模板 |
| (无) | 提示词分解决策框架 | 新增判断是否需要分解提示词的标准 |
| (无) | 复杂度动态调整机制 | 新增根据执行情况调整复杂度的方法 |
| (无) | 提示词优化反馈循环 | 新增持续改进提示词分解策略的流程 |
| (无) | AI助手局限性应对策略 | 新增应对AI模型限制的专门策略 |